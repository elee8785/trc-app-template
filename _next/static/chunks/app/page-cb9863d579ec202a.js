(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4344:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var s=n(5155),r=n(2115);async function a(e,t,n){let s=await fetch("https://app.1health.io/api/".concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});if(!s.ok)throw Error("1health API error: ".concat(s.statusText));return await s.json()}function i(){let e=function(){let[e,t]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e="https://elee9885.github.io".split(",")||[],n=n=>{var s;let r=n.origin,a=null==(s=n.data)?void 0:s.token;e.includes(r)&&a&&t(a)};return window.addEventListener("message",n),window.parent.postMessage({type:"request-token"},"*"),()=>{window.removeEventListener("message",n)}},[]),e}(),[t,n]=(0,r.useState)(null),[i,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e&&a("v3/health/userinfo",{},e).then(e=>n(e)).catch(e=>l(e.message))},[e]),(0,s.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center p-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"\uD83D\uDD10 TRC App Template"}),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-green-500",children:"✅ Token acquired!"}),t?(0,s.jsx)("pre",{className:"mt-4 bg-gray-800 text-white p-4 rounded w-full max-w-xl overflow-auto",children:JSON.stringify(t,null,2)}):(0,s.jsx)("p",{children:"Loading user info..."})]}):(0,s.jsx)("p",{className:"text-gray-500",children:"Waiting for token..."}),i&&(0,s.jsxs)("p",{className:"text-red-500 mt-4",children:["⚠️ API Error: ",i]})]})}},6646:(e,t,n)=>{Promise.resolve().then(n.bind(n,4344))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(6646)),_N_E=e.O()}]);